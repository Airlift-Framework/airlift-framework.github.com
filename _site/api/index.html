<!DOCTYPE html>
<html>
  
<head>
  <meta charset='UTF-8'/>
  <title>Airlift &middot; A JavaScript web application framework for Google App Engine</title>
  <link rel='stylesheet' href='/fonts/open-sans.css'/>
  <link rel='stylesheet' href='/app.css'/>
  <!--<link rel='stylesheet' href='app.css'/>-->
  <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
  <script src="/javascripts/rainbow-custom.min.js"></script>
  <style type="text/css">
    body {
      background: #EEEEEE;
      margin: 0px 0px 0px 0px;
      font-family: OpenSans, sans-serif;
      font-size: 14px;
      line-height: 20px;
      color: black;
    }
    div.content h1 {
      font-family: Kannada MN;
    }
    div.content h2 {
      background-color: #E47E7E;
      margin: 40px 0px 0px 0px;
      padding-left: 10px;
      font-family: Kannada MN;
      line-height:35px;
    }
    div.content h2.a {
      margin: 0px 0px 20px 0px;
      font-family: Kannada MN;
      font-size: 16px;
      font-weight: normal;
      line-height: 24px;
      padding-left: 10px;
      padding-top: 5px;
      padding-bottom: 5px;
      border-width: 3px;
      border-style: solid;
      border-color: #E47E7E;
      background-color: #EEEEEE;
    }
    div.content h3 {
      color: #2A61D9;
      font-family: Kannada MN;
      font-size: 16px;
      padding-bottom: 0px;
    }
    div.content h4 {
      color: black;
      font-family: Kannada MN;
      font-size: 14px;
      line-height: 21px;
      padding-bottom: 0px;
    }
    div.sidebar h1 {
      font-size: 14px;
      line-height: 20px;
    }
    label {
      font-size: 12px;
      padding-left: 8px;
      padding-right: 8px;
      padding-top: 2px;
      padding-bottom: 2px;
    }
    label.green {
      background-color:#95DF9F;
    }
    label.yellow {
      background-color:#EDD287;
    }
    label.red {
      background-color:#F47A72;
    }
    label.purple {
      background-color:#BB95E9;
    }
    label.alias {
      background-color:#7EA0F5
    }
    a {
      color:black;
      text-decoration: none;
      font-weight: bold;
    }
    a:hover {
      color: #CF4A29;
      transition: 0ms;
    }
   pre {
      margin-top: 20px
      margin-left: 20px;
}
    pre, code {
      font-size: 14px;
      padding: 2px 0 2px 15px;
      border-left: 5px solid #bbb;
      margin: 20px 0px 20px 0px;
      background-color: #DDDDDD;
    }
    div.sidebar li {
      list-style-type: none;
    margin-left: -25px; 
    }
    div.sidebar li a {
      font-weight: normal;
    }
    div.sidebar {
      background: #DDDDDD;
      position: fixed;
      top: 60px; right: 0px; bottom: 0px; left: 0px;
      width: 220px;
      overflow-y: auto;
      overflow-x: hidden;
      padding: 15px 0 30px 30px;
      border-right: 1px solid #bbb;
      box-shadow: 0 0 20px #ccc;
      z-index: 2;
    }
    div.container {
      background: #EEEEEE;
      position: fixed;
      top: 60px; right: 0px; bottom: 0px; left: 220px;
      overflow-y: auto;
      overflow-x: auto;
      overflow: scroll;
      z-index: 1;
    }
    div.content {
      width: 700px;
      margin-left: 40px;
    }
    div.api{
      background-color: #A82929;
      position: fixed;
      margin: 0px,
      display: block;
      width: 100%;
      font-family: OpenSans, sans-serif;
      text-weight: normal;
      line-height: 20px;
      z-index: 3;
    }
  </style>
</head>

<body>

  <div class="api">
    <div id="menu">
  <div class="inner">
    <a class="title" href="/" class="title">Airlift</a>
    <a href="/">Intro</a>
    <a href="/manual/">Manual</a>
    <a href="/api/" class="active">API</a>
    <a href="/team/">Team</a>
    <a href="/development/">Dev</a>
  </div>
</div>

  </div>

  <div class="sidebar">
    
      <h1 id='airlift_20'><a href='#airlift'>Airlift 2.0</a></h1>

<ul>
<li><a href='https://github.com/Airlift-Framework/airlift-framework.github.com'>Github Repository</a></li>

<li><a href='#'>Download PDF</a></li>
</ul>

<h1 id='introduction'><a href='#airlift'>Introduction</a></h1>
<br />
<h1 id='extensions'><a href='#Extensions'>Extensions</a></h1>

<ul>
<li><a href='#partial'>partial</a></li>

<li><a href='#equalsIgnoreCase'>equalsIgnoreCase</a></li>

<li><a href='#replaceAll'>replaceAll</a></li>
</ul>

<h1 id='resource'><a href='#Resource'>Resource</a></h1>

<ul>
<li><a href='#each'>each</a></li>

<li><a href='#map'>map</a></li>

<li><a href='#transform'>transform</a></li>

<li><a href='#reduce'>reduce</a></li>

<li><a href='#sequence'>sequence</a></li>

<li><a href='#compose'>compose</a></li>

<li><a href='#toString'>toString</a></li>

<li><a href='#watch'>watch</a></li>

<li><a href='#json'>json</a></li>

<li><a href='#audit'>audit</a></li>

<li><a href='#copy'>copy</a></li>

<li><a href='#clone'>clone</a></li>

<li><a href='#stream'>stream</a></li>
</ul>

<h1 id='collection'><a href='#Collection'>Collection</a></h1>

<ul>
<li><a href='#every'>every</a></li>

<li><a href='#some'>some</a></li>

<li><a href='#forEach'>forEach</a></li>

<li><a href='#filter'>filter</a></li>

<li><a href='#col_map'>map</a></li>

<li><a href='#reduce'>reduce</a></li>

<li><a href='#split'>split</a></li>

<li><a href='#partition'>partition</a></li>
</ul>

<h1 id='util'><a href='#Util'>Util</a></h1>

<ul>
<li><a href='#typeOf'>typeOf</a></li>

<li><a href='#isEmpty'>isEmpty</a></li>

<li><a href='#createClass'>createClass</a></li>

<li><a href='#isWhiteSpace'>isWhiteSpace</a></li>

<li><a href='#hasValue'>hasValue</a></li>

<li><a href='#multiTry'>multiTry</a></li>

<li><a href='#createDate'>createDate</a></li>

<li><a href='#createCalendar'>createCalendar</a></li>

<li><a href='#guid'>guid</a></li>

<li><a href='#trim'>trim</a></li>

<li><a href='#print'>print</a></li>

<li><a href='#println'>println</a></li>

<li><a href='#value'>value</a></li>
</ul>

<h1 id='incoming'><a href='#Incoming'>Incoming</a></h1>

<ul>
<li><a href='#createKey'>createKey</a></li>

<li><a href='#createEntity'>createEntity</a></li>

<li><a href='#bookkeeping'>bookkeeping</a></li>

<li><a href='#entify'>entify</a></li>

<li><a href='#encrypt'>encrypt</a></li>

<li><a href='#convert'>convert</a></li>

<li><a href='#validate'>validate</a></li>
</ul>

<h1 id='outgoing'><a href='#Outgoing'>Outgoing</a></h1>

<ul>
<li><a href='#deentify'>deentify</a></li>

<li><a href='#decrypt'>decrypt</a></li>
</ul>

<h1 id='rest'><a href='#Rest'>Rest</a></h1>

<ul>
<li><a href='#'>tbdRest</a></li>
</ul>

<h1 id='data_access'><a href='#Data_Access'>Data Access</a></h1>

<ul>
<li><a href='#'>tbdDataAccess</a></li>
</ul>
    
  </div>

  <div class="container">
    <div class="content">
      
        <h1 id='airlift_api_documentation'>Airlift API Documentation</h1>

<p>Airlift is an open web framework for building restful web applications using functional JavaScript on Google App Engine.</p>

<p>Add more to this paragraph weeeee. What does Airlift include? How can it be used? What makes it different from other frameworks? Filler filler filler filler filler blah blah blah blah blah i do like cheese filler filler filler filler filler filler blah blah blah blah blah blah blah blah blah blah blah.</p>

<p>This project is <a href='http://github.com/Airlift-Framework/airlift-framework.github.com'>hosted on Github</a></p>

<p>The PDF of this documentation can be downloaded <a href='http://github.com/Airlift-Framework/airlift-framework.github.com'>here</a>.</p>
      

      
        <h2>
          Extensions
        </h2>
        <h2 class="a">
          JavaScript module extensions that support Airlift utility modules.
        </h2>
        <p>Airlift is built on Rhino and App Engine. Rhino is a fantastic JavaScript interpreter library written for Java. App Engine is a fantastic platform as a service cloud environment that offers support for web applications programmed in Go, Python, and Java.</p>

<p>In order for Airlift to support server side JavaScript programming on App Engine we applied Rhino&#8217;s capabilities to the App Engine environment. To accomplish this we extended some of Rhino&#8217;s libraries, and we added additional functionality to JavaScript&#8217;s standard objects. The following outlines the adaptations and improvements we made.</p>
<p id='partial' />
<h3 id='functionprototypepartial_argument1_argument2__argumentn'>Function.prototype.partial (argument-1, argument-2, &#8230;, argument-n)</h3>

<h4 id='return_type_object'>Return type: Object</h4>
<p> <label class='purple'>Added in 2.0</label>
Returns a wrapper function that wraps the function refered to by 'this'. The arguments passed into partial are stored to be applied when the wrapper function is invoked. When the wrapper function is invoked, its arguments are tacked on to the stored arguments.  If any of stored arguments are undefined, they will be filled in in the order of presentation of the wrapper function arguments.
</p>
<pre><code>var f0 = function(a1, a2)
{
	return a1 + a2;
};
var f1 = f0.partial(undefined, &#39;Bediako&#39;);	
=&gt; Hello Bediako</code></pre>
<p id='equalsIgnoreCase' />
<h3 id='stringprototypeequalsignorecase_stringjavalangstring_string'>String.prototype.equalsIgnoreCase (String|java.lang.String string)</h3>

<h4 id='return_type_boolean'>Return type: Boolean</h4>
<p> <label class='purple'>Added in 2.0</label>
Case insensitive comparison of a JavaScript string1 to another JavaScript or Java string. Added as a convenience method, equalsIgnoreCase is merely a wrapper for java.lang.String.equalsIgnoreCase.
</p>
<pre><code> var string1 = &#39;bediako&#39;;
 var string2 = new Packages.java.lang.String(&#39;Bediako&#39;);
 string1.equalsIgnoreCase(string2);
 =&gt; true</code></pre>
<p id='replaceAll' />
<h3 id='stringprototypereplaceall_stringjavalangstring_string1_stringjavalangstring_string2'>String.prototype.replaceAll (String|java.lang.String string1, String|java.lang.String string2)</h3>

<h4 id='return_type_string'>Return Type: String</h4>
<p> <label class='purple'>Added in 2.0</label>
Replaces every occurrence of string1 in 'this' with string2.  Added as a convenience method, replaceAll is merely a wrapper for java.lang.String.replaceAll.
</p>
<pre><code> var string1 = &#39;banana&#39;;
 string1.replaceAll(&#39;na&#39;, &#39;&#39;);
 =&gt; ba</code></pre>
      
        <h2>
          Resource
        </h2>
        <h2 class="a">
          The resource module contains functions that allow you to iterate over the attributes of your application's resources.
        </h2>
        <h1 id='introduction'>Introduction</h1>

<p>Airlift is a restful framework. Resources are the center of Airlift application development. When designing an application, developers are encouraged to create as many resources as they like. The resource.js module contains functions that allow developers to traverse the application resources&#8217; attributes. In Airlift a resource is represented as a simple JavaScript object ({}).</p>

<p>Whenever a iterative function is executed in resource, the iterator function that you provide is executed within a context that governs the traversal of that resource. This context is set as the &#8216;this&#8217; for the iterator function. It makes available following:</p>

<ul>
<li>resourceName - the name of the resource being traversed.</li>

<li>resourceMetadata - metadata describing the resource being traversed. It contains a list of attributes this resource holds.</li>

<li>attributesMetadata - metadata describing each individual attribute this resource holds.</li>

<li>foreignKeys - a list of names of all the foreign keys in this resource.</li>

<li>attributes - a list of names of all the attributes in this resource.</li>

<li>web - a web object that gives access to the web context. The web context contains information about the current request.</li>

<li>report - a function used to report errors.</li>

<li>allErrors - a function that returns all errors reported so far.</li>

<li>getErrors - a function that returns all errors reported for a given attribute of this resource.</li>
</ul>

<p>All iterative functions in resource.js allow for the replacement of any of the attributes of the context object by optionally providing an object at invocation time.</p>

<p>The functions available in this module are described below.</p>

<h2 id='_each_resourcename_resource_iterator_context'>- Each (resourceName, resource, iterator, [context])</h2>

<p>Iterates over a resource, yielding each in turn to an iterator function. The iterator is bound to the context object, if one is passed, along with the attributes provided in the default context. Each invocation of iterator is called with four arguments: (value, attributeName, resource, metadata).</p>

<pre><code>var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var lightPerson = {};
var res = require(&#39;resource&#39;);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration

res.each(&#39;person&#39;, person, function(_value, _name, _resource, _metadata)
{
   lightPerson[_name] = _value;
} , context);

util.println(JSON.stringify(lightPerson)); // {shortName: &#39;Kwame&#39;, age: 27 }</code></pre>

<h2 id='_map_resourcename_resource_iterator_context'>- Map (resourceName, resource, iterator, [context])</h2>

<p>Iterates over a resource, yielding each in turn to an iterator function. The iterator is bound to the context object, if one is passed, along with the attributes provided in the default context. Each invocation of iterator is called with four arguments: (value, attributeName, resource, metadata). The result of each iterator invocation is saved to a new resource object.</p>

<pre><code>var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration

var lightPerson = res.map(&#39;person&#39;, person, function(_value, _name, _resource, _metadata)
{
   return _value;
} , context);

util.println(JSON.stringify(lightPerson)); // {shortName: &#39;Kwame&#39;, age: 27 }</code></pre>

<h2 id='_reduce_base_resourcename_resource_iterator_context'>- Reduce (base, resourceName, resource, iterator, [context])</h2>

<p>Iterates over a resource, yielding each in turn to an iterator function. The iterator is bound to the context object, if one is passed, along with the attributes provided in the default context. Each invocation of iterator is called with five arguments: (base, value, attributeName, resource, metadata). The result of each iterator invocation replaces the base value. Reduce returns the value of base at the end.</p>

<pre><code>var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration
var base = &#39;&lt;ul&gt;&#39;;

var lightPerson = res.reduce(base, &#39;person&#39;, person, function(_value, _name, _resource, _metadata)
{
   return &#39;&lt;li&gt;&#39; + _value + &#39;&lt;/li&gt;&#39;;
} , context);

util.println(lightPerson); // &lt;ul&gt;&lt;li&gt;Kwame&lt;/li&gt;&lt;li&gt;27&lt;/li&gt;</code></pre>

<h2 id='_sequence_function1_function2__functionn'>- Sequence (function1, function2, &#8230;, functionN)</h2>

<p>Returns a function that is the composition of the passed function arguments. The functions are executed in the order they are passed into sequence. Sequence&#8217;s returned function can be used in a iterative manner on a resource or executed as a standalone. Sequence returns the value of the last function&#8217;s execution.</p>

<pre><code>var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);

var checkStringType = function(_value, _name, _resource, _metadata) {
   if (&quot;java.lang.String&quot;.equals(_metadata.type) === false) throw &#39;error&#39;;
}

var checkAttributeHasValue = function(_value)
{
   if (util.hasValue(_value) === false) throw &#39;error&#39;;
}

var sequence = res.sequence(checkStringType, checkAttributeHasValue);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration

var lightPerson = res.each(&#39;person&#39;, person, sequence, context);  //no errors</code></pre>

<h2 id='_compose_function1_function2__functionn'>- Compose (function1, function2, &#8230;, functionN)</h2>

<p>Returns a function that is the composition of the passed function arguments. The functions are executed in the order they are passed in to Compose. Compose&#8217;s returned function can be used in a iterative manner on a resource or executed as a standalone. On execution, the function returned by Compose passes its arguments to the first function executed. Each function after that will get the return value of the previous function as a replacement for the first argument of the original arguments. Compose returns the value of the last function&#8217;s execution.</p>

<pre><code>var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);

var returnOK = function(_value, _name, _resource, _metadata) {
   return &#39;OK&#39;;
}

var checkOK = function(_value)
{
   if (&quot;OK&quot;.equals(_value) === false) throw &#39;error&#39;;
}

var composition = res.compose(returnOK, checkOK);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration

var lightPerson = res.each(&#39;person&#39;, person, composition, context);  //no errors</code></pre>

<h2 id='_watch_name1__name2namelist_function'>- Watch ([name1, &#8230;, name2]|[nameList], function)</h2>

<p>Returns a function that will only be executed once and only once when the all the attributes in the argument list of nameList are visited by the iterative function. If an attribute list is not passed as arguments or as an array, watch will execute once and only once all the attributes of the iterative context are visited.</p>

<pre><code>var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);

var closeUlTag = function(_base, _value, _attributeName, _resource, _metadata) {
   return _base + &#39;&lt;/ul&gt;&#39;;
}

var liTag = function(_base, _value, _attributeName, _resource, _metadata)
{
   return _base + &#39;&lt;li&gt;&#39; + _value + &#39;&lt;/li&gt;&#39;;
}

var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration
var watch1 = res.watch(closeUlTag); //watch1 will execute once and only once ... 
var composition = res.compose(liTag, watch1);

var lightPerson = res.reduce(&#39;&lt;ul&gt;&#39;, &#39;person&#39;, person, composition, context); //.. when &#39;shortName&#39; and &#39;age&#39; are visited at least once.

util.println(lightPerson); // &lt;ul&gt;&lt;li&gt;Kwame&lt;/li&gt;&lt;li&gt;27&lt;/li&gt;&lt;/ul&gt;</code></pre>
      
        <h2>
          Collection
        </h2>
        <h2 class="a">
          The Collection module contains functions that can be used to traverse and process JavaScript arrays and Java collections in the same manner.
        </h2>
        <h1 id='introduction'>Introduction</h1>

<p>The Collection module contains handy functions developers can use to traverse a JavaScript array, or a Java ArrayList or Java Set in a similar manner.</p>

<h2 id='_every_collection_iterator_context'>- Every (collection, iterator, [context])</h2>

<p>Returns true if all of the values in the list pass the iterator truth test. For JavaScript arrays, this function delegates to the native every function.</p>

<pre><code>var util = require(&#39;airlift/util&#39;);

var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
var success = c.every(users, function(_item, _index, _collection) { return true; });
util.println(success); //true</code></pre>

<h2 id='_some_collection_iterator_context__alias_any'>- Some (collection, iterator, [context]) &#8230; alias Any</h2>

<p>Returns true if any of the values in the collection pass the iterator&#8217;s truth test. Short-circuits and stops traversing the list if a true element is found. If collection is a JavaScript array this function delegates to the native method some.</p>

<pre><code>var util = require(&#39;airlift/util&#39;);

var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
var r = c.some(users, function(_item, _index,_collection) { return (_index === 2); });
util.println(r); //true</code></pre>

<h2 id='_foreach_collection_iterator_context__alias_each'>- ForEach (collection, iterator, [context]) &#8230; alias Each</h2>

<p>Iterates over a collection of elements, yielding each in turn to an iterator function. The iterator is bound to the context object, if one is passed. Each invocation of iterator is called with three arguments: (item, index, collection). For JavaScript arrays this function delegates to the native forEach function.</p>

<pre><code>var util = require(&#39;airlift/util&#39;), count = 0;

var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
c.forEach(users, function(_item, _index, _collection) { count++; });
util.println(count); //3</code></pre>

<h2 id='_filter_collection_iterator_context'>- Filter (collection, iterator, [context])</h2>

<p>Looks through each value in the list, returning a collection of all the values that pass a truth test (iterator). For JavaScript arrays this function delegates to the native filter method.</p>

<pre><code>var util = require(&#39;airlift/util&#39;);

var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
var r = c.filter(users, function(_item, _index, _collection) { return (_index === 0); });
util.println(util.json(r)); //[&quot;Bediako&quot;]</code></pre>

<h2 id='_map_collection_iterator_context'>- Map (collection, iterator, [context])</h2>

<p>Produces a new collection of values by mapping each value in the collection through a transformation function (iterator). For JavaScript arrays, the native map method is used.</p>

<pre><code>var util = require(&#39;airlift/util&#39;);

var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
var r = c.map(users, function(_item, _index, _collection) { return &#39;Hello &#39; + _item; });
util.println(util.json(r)); //[&quot;Hello Bediako&quot;, &quot;Hello Dave&quot;, &quot;Hello Loki&quot;]</code></pre>

<h2 id='_reduce_collection_iterator_memo_context'>- Reduce (collection, iterator, memo, [context])</h2>

<p>Reduce boils down a collection of values into a single value. Memo is the initial state of the reduction, and each successive step of it should be returned by iterator. The iterator is passed four arguments: the memo, then the value and the index of the iteration, and finally a reference to the entire list. Reduce defers to the native implementation for JavaScript arrays.</p>

<pre><code>var util = require(&#39;airlift/util&#39;);

var users = [&#39;Bediako&#39;, &#39;Dave&#39;, &#39;Loki&#39;], c = require(&#39;collection&#39;);
var r = c.reduce(users, function(_memo, _item, _index, _collection) { return _memo + _item.length; }, 0);
util.println(r); //15</code></pre>

<h2 id='_split_collection_iterator_context'>- Split (collection, iterator, [context])</h2>

<p>Returns two collections. The first collection contains the items for which _function returned true, the second collection contains the items for which the function returned false.</p>

<pre><code>var util = require(&#39;airlift/util&#39;);

var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
var r = c.split(users, function(_item, _index, _collection) { return _item.length &gt; 4; });
util.println(util.json(r)); //{success: [&quot;Bediako&quot;], fail: [&quot;Dave&quot;, &quot;Loki&quot;] }</code></pre>

<h2 id='_partition_collection_attributename'>- Partition (collection, attributeName)</h2>

<p>Returns a value list (java.util.List or Javascript array) and a map (java.util.Map or Javascript object). The value list contains, in the order they were discovered, the values that each item in the collection had on its property identified by attributeName. The map&#8217;s keys are the values found in the value list. Each key points to the list of items that had that value on its property identified by attributeName.</p>

<pre><code>var util = require(&#39;airlift/util&#39;);

var users = \[{name: &quot;Bediako&quot;}, {name: &quot;Dave&quot;}, {name: &quot;Loki&quot;}, {name: &quot;Bediako&quot;}\];
var r = require(&#39;collection&#39;).partition(users, &#39;name&#39;);
util.println(util.json(r)); //{keys: \[&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;\], partition: {&quot;Bediako&quot; : \[{name: &quot;Bediako&quot;}, {name: &quot;Bediako&quot;}\], &quot;Dave&quot;: \[{name: &quot;Dave&quot;}\], &quot;Loki&quot;: \[{name: Loki}\]}}</code></pre>
      
        <h2>
          Util
        </h2>
        <h2 class="a">
          The Util module contains utility functions that are used throughout Airlift.
        </h2>
        <h1 id='introduction'>Introduction</h1>

<p>The Util module contains utility functions developers can use process resources. These include checks for empty JavaScript objects, type checks, multi trys and more.</p>

<h2 id='_typeof_value'>- TypeOf (value)</h2>

<p>Determines the type of JavaScript object value.</p>

<pre><code>var u = require(&#39;util&#39;);
u.println(u.typeOf({}); //object
u.println(u.typeOf([]); //array
u.println(u.typeOf(&#39;string&#39;); //string
u.println(u.typeOf(5); //number
u.println(u.typeOf(function(){})); //function</code></pre>

<h2 id='_isempty_object'>- IsEmpty (object)</h2>

<p>Determines whether or not a JavaScript object has any properties.</p>

<pre><code>var u = require(&#39;util&#39;);
u.println(u.isEmpty({}); //true
u.println(u.isEmpty({name: undefined}); false</code></pre>

<h2 id='_createclass_classname'>- CreateClass (className)</h2>

<p>Creates a Java class object identified by the classname.</p>

<pre><code>var u = require(&#39;util&#39;);
u.println(u.createClass(&quot;java.lang.String&quot;).getName()); //java.lang.String</code></pre>

<h2 id='_iswhitespace_string'>- IsWhiteSpace (string)</h2>

<p>Returns true if string is whitespace, false otherwise.</p>

<pre><code>var u = require(&#39;util&#39;);
u.println(u.isWhitespace(&#39;&#39;)); //true
u.println(u.isWhitespace(&#39;\t\n&#39;)); //true
u.println(u.isWhitespace(&#39;name&#39;)); false</code></pre>

<h2 id='_hasvalue_item'>- HasValue (item)</h2>

<p>Returns true if item is not equal to null and is not equal to undefined.</p>

<pre><code>var u = require(&#39;util&#39;);
u.println(u.hasValue(&#39;&#39;)); //true
u.println(u.isValue(null)); //false
u.println(u.isWhitespace(undefined)); false
u.println(u.hasValue([])); //true
u.println(u.hasValue(0)); //true
u.println(u.hasValue(-1)); //true
u.println(u.hasValue({})); //true</code></pre>

<h2 id='_multitry_function_tries_message_completefailure'>- MultiTry (function, tries, [message], [completeFailure])</h2>

<p>Tries to execute function &#8216;tries&#8217; number of times, catching any exceptions encountered. If message is provided it is written as a warning to the logs for each failed try. If the number of failed tries exceeds try a severe error is logged, and the last exception encountered is rethrown unless completeFailure function is provided.</p>

<pre><code>var u = require(&#39;util&#39;);
u.multitry(logIntoPayPal, 5, &#39;paypal login failed&#39;, function(tries, e) {
    	sendEmailToAdministrator(); throw e;
});</code></pre>

<h2 id='_createdate_milliseconds'>- createDate ([milliseconds])</h2>

<p>Creates a java.util.Date object. If milliseconds is provided it is passed to the Date constructor, otherwise the date returned will reflect the current time to the millisecond.</p>

<pre><code>var u = require(&#39;util&#39;);
var date = u.createDate(5) //date is 5 milliseconds after the epoch</code></pre>

<h2 id='_createcalendar_config'>- createCalendar ([config])</h2>

<p>Creates a java.util.Calendar object. The optional config parameter may contain the following optional parameters:</p>

<ul>
<li>date - a date the calendar will be set to. If not provided the current date is used.</li>

<li>dateOffset - the amount of time to adjust the calendar from the date it was set to. Defaults to 0.</li>

<li>dateOffsetType - the dateOffset time amount from the java.util.Calendar object. Defaults to java.util.Calendar.MILLISECOND.</li>

<li>timezone - the timezone the calendar object should be set to. Defaults to &#8216;UTC&#8217;.</li>

<li>locale - the locale the calendar object should be set to. Defaults to current locale.</li>
</ul>

<p>The config object may have all or none of these parameters.</p>

<pre><code>var u = require(&#39;util&#39;);
var config = {};
config.date = u.createDate();
config.dateOffset = 10000;
config.dateOffsetType = java.util.Calendar.MILLISECOND;
var calendar = u.createCalendar(config);</code></pre>

<h2 id='_guid_length'>- Guid ([length])</h2>

<p>Creates a guid of type string. The method for creating the guid involves truncating a SHA1 hash of a random uuid created by java.util.UUID class. The SHA1 hash is truncated to the length specified. If length is not specified the value of the application configuration parameter &#8216;airlift.truncated.sha1.id.length&#8217; is used instead. If that is not configured it defaults to 10.</p>

<pre><code>var u = require(&#39;util&#39;);
var id = u.guid(12)
u.println(id); //c30215c36032</code></pre>

<h2 id='_trim_string'>- Trim (string)</h2>

<p>Removes whitespace from left and right sides of a string.</p>

<pre><code>var u = require(&#39;util&#39;);
var trimmed = u.trim(&#39;\t Bediako \n&#39;)
u.println(trimmed); //Bediako</code></pre>

<h2 id='_print_string'>- Print (string)</h2>

<p>Writes string to standard out.</p>

<pre><code>var u = require(&#39;util&#39;);

u.print(&#39;Bediako&#39;); //Bediako</code></pre>

<h2 id='_println_string'>- Println (string)</h2>

<p>Writes string to standard out, then writes a newline to standard out.</p>

<pre><code>var u = require(&#39;util&#39;);

u.println(&#39;Bediako&#39;); //Bediako</code></pre>

<h2 id='_value_value_default'>- value (value, default)</h2>

<p>Returns value if it is not null or it is not undefined. Otherwise it returns default.</p>

<pre><code>var u = require(&#39;util&#39;);

u.println(u.value(undefined, &#39;Bediako)); //Bediako
u.println(u.value(null, &#39;Bediako)); //Bediako
u.println(u.value(&#39;Connor&#39;, &#39;Bediako)); //Connor</code></pre>
      
        <h2>
          Incoming
        </h2>
        <h2 class="a">
          The Incoming module contains functions that are generally used when processing incoming data such as during a post, put, or a delete.
        </h2>
        <h1 id='introduction'>Introduction</h1>

<p>The Incoming module contains functions for processing incoming data. This includes data conversion and validation; data encryption, audit and persistence.</p>

<h2 id='_createkey_resourcename_guid'>- CreateKey (resourceName, guid)</h2>

<p>Creates a com.google.appengine.api.datastore.Key via the KeyFactory.</p>

<pre><code>var in = require(&#39;airlift/incoming&#39;), u = require(&#39;airlift/util&#39;);
var key = in.createKey(&#39;person&#39;, u.guid(12));
u.println(key.getName()); //c30215c36032</code></pre>

<h2 id='_createentity_resourcename_guid'>- CreateEntity (resourceName, guid)</h2>

<p>Creates a com.google.appengine.api.datastore.Entity. Relies on createKey.</p>

<pre><code>var in = require(&#39;airlift/incoming&#39;), u = require(&#39;airlift/util&#39;);
var entity = in.createEntity(&#39;person&#39;, u.guid(12));
u.println(entity.getKind()); //person</code></pre>

<h2 id='_bookkeeping_entity_userid_postdate_putdate'>- Bookkeeping (entity, userid, postDate, putDate)</h2>

<p>Populates the entity object with the bookkeeping metadata that describes when this object was created and by whom it was created. If userId is not provided and cannot be determined systematically &#8216;user id not provided&#8217; is recorded. If postDate is not provided the current date and time is used instead. If putDate is not provided the postDate is used instead.</p>

<pre><code>var in = require(&#39;airlift/incoming&#39;), u = require(&#39;airlift/util&#39;);
var person = in.createEntity(&#39;person&#39;, u.guid(12));
in.bookkeeping(person, &#39;bediako&#39;, u.createDate());</code></pre>

<h2 id='_entify_entity_value_attributename'>- Entify (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts a resource&#8217;s attribute values into a property map values on an entity object.</p>

<pre><code>u = require(&#39;airlift/util&#39;);

var person = {};
person.id = u.guid(12);
person.fullName = &quot;Kwame Mtume&quot;
person.age = 27;

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
var entity = in.createEntity(&#39;person&#39;, person.id);
res.each(&#39;person&#39;, person, in.entify.partial(entity));</code></pre>

<h2 id='_encrypt_entity_value_attributename'>- Encrypt (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts a resource&#8217;s sensitive attribute values into encrypted property map values on an entity object.</p>

<pre><code>u = require(&#39;airlift/util&#39;);

var person = {};
person.id = u.guid(12);
person.fullName = &quot;Kwame Mtume&quot;
person.age = 27;

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
var entity = in.createEntity(&#39;person&#39;, person.id);
res.each(&#39;person&#39;, person, in.encrypt.partial(entity));</code></pre>

<h2 id='_convert_value_attributename_resource'>- Convert (value, attributeName, resource)</h2>

<p>Function designed to be used with resource.each, it converts a request parameter values into a property map values on a JavaScript object. It relies on Airlift automatically setting the web context object that resource.each relies on.</p>

<pre><code>u = require(&#39;airlift/util&#39;);

var person = {};

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, in.convert);</code></pre>

<h2 id='_validate_value_attributename_resource_metadata'>- Validate (value, attributeName, resource, metadata)</h2>

<p>Function designed to be used with resource.each, it verifies that the resource&#8217;s property values are in line with the constraints outlined in the attribute and resource metadata. Use resource.watch to get hold of the errors at the end of the validation.</p>

<pre><code>u = require(&#39;airlift/util&#39;);

var person = {};
person.id = u.guid(12);
person.fullName = &quot;Kwame Mtume&quot;
person.age = 27;

var errors;

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, res.sequence(in.validate, res.watch(
    function() { 
        errors = this.allErrors(); 
    }
)));</code></pre>
      
        <h2>
          Outgoing
        </h2>
        <h2 class="a">
          The Outgoing module contains functions used in the retrieval of data. Typically this is used when getting or collecting data from the datastore.
        </h2>
        <h1 id='introduction'>Introduction</h1>

<p>The Outgoing module contains functions for processing retrieved data. This includes functions for unencrypting data, and converting entities into JavaScript objects.</p>

<h2 id='_deentify_entity_value_attributename'>- Deentify (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts an entity&#8217;s property values into a JavaScript&#8217;s objects attribute values.</p>

<pre><code>u = require(&#39;airlift/util&#39;), out = require(&#39;airlift/outgoing&#39;);

var person = {};
var entity = out.createEntity(&#39;person&#39;, u.guid(12));
entity.setProperty(&#39;fullName&#39;, &#39;Kwame Mtume&#39;);
entity.setProperty(&#39;age&#39;, 37);

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, in.deentify.partial(entity));</code></pre>

<h2 id='_decrypt_entity_value_attributename'>- Decrypt (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts a resource&#8217;s sensitive attribute values into encrypted property map values on an entity object.</p>

<pre><code>u = require(&#39;airlift/util&#39;), out = require(&#39;airlift/outgoing&#39;);

var person = {};
var entity = out.createEntity(&#39;person&#39;, u.guid(12));
entity.setProperty(&#39;fullName&#39;, &#39;Kwame Mtume&#39;);
entity.setProperty(&#39;age&#39;, 37);

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, in.decrypt.partial(entity));</code></pre>
      
        <h2>
          Java Array
        </h2>
        <h2 class="a">
          The Outgoing module contains functions used in the retrieval of data. Typically this is used when getting or collecting data from the datastore.
        </h2>
        <h1 id='introduction'>Introduction</h1>

<p>The Outgoing module contains functions for processing retrieved data. This includes functions for unencrypting data, and converting entities into JavaScript objects.</p>

<h2 id='_deentify_entity_value_attributename'>- Deentify (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts an entity&#8217;s property values into a JavaScript&#8217;s objects attribute values.</p>

<pre><code>u = require(&#39;airlift/util&#39;), out = require(&#39;airlift/outgoing&#39;);

var person = {};
var entity = out.createEntity(&#39;person&#39;, u.guid(12));
entity.setProperty(&#39;fullName&#39;, &#39;Kwame Mtume&#39;);
entity.setProperty(&#39;age&#39;, 37);

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, in.deentify.partial(entity));</code></pre>

<h2 id='_decrypt_entity_value_attributename'>- Decrypt (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts a resource&#8217;s sensitive attribute values into encrypted property map values on an entity object.</p>

<pre><code>u = require(&#39;airlift/util&#39;), out = require(&#39;airlift/outgoing&#39;);

var person = {};
var entity = out.createEntity(&#39;person&#39;, u.guid(12));
entity.setProperty(&#39;fullName&#39;, &#39;Kwame Mtume&#39;);
entity.setProperty(&#39;age&#39;, 37);

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, in.decrypt.partial(entity));</code></pre>
      
        <h2>
          Rest
        </h2>
        <h2 class="a">
          The Outgoing module contains functions used in the retrieval of data. Typically this is used when getting or collecting data from the datastore.
        </h2>
        <h1 id='introduction'>Introduction</h1>

<p>The Outgoing module contains functions for processing retrieved data. This includes functions for unencrypting data, and converting entities into JavaScript objects.</p>

<h2 id='_deentify_entity_value_attributename'>- Deentify (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts an entity&#8217;s property values into a JavaScript&#8217;s objects attribute values.</p>

<pre><code>u = require(&#39;airlift/util&#39;), out = require(&#39;airlift/outgoing&#39;);

var person = {};
var entity = out.createEntity(&#39;person&#39;, u.guid(12));
entity.setProperty(&#39;fullName&#39;, &#39;Kwame Mtume&#39;);
entity.setProperty(&#39;age&#39;, 37);

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, in.deentify.partial(entity));</code></pre>

<h2 id='_decrypt_entity_value_attributename'>- Decrypt (entity, value, attributeName)</h2>

<p>Function designed to be used with resource.each, it converts a resource&#8217;s sensitive attribute values into encrypted property map values on an entity object.</p>

<pre><code>u = require(&#39;airlift/util&#39;), out = require(&#39;airlift/outgoing&#39;);

var person = {};
var entity = out.createEntity(&#39;person&#39;, u.guid(12));
entity.setProperty(&#39;fullName&#39;, &#39;Kwame Mtume&#39;);
entity.setProperty(&#39;age&#39;, 37);

var in = require(&#39;airlift/incoming&#39;), res = require(&#39;airlift/resource&#39;); 
res.each(&#39;person&#39;, person, in.decrypt.partial(entity));</code></pre>
      
    </div>
  </div>

</body>
  
<script type="text/javascript">
    var codeBlocks = document.querySelectorAll('code');
    Array.prototype.forEach.call(codeBlocks, function iterator(block) {
      block.setAttribute('data-language', 'javascript');
    });
    Rainbow.color();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-7466901-3', 'lucidtechnics.com');
  ga('send', 'pageview');

</script>
</html>