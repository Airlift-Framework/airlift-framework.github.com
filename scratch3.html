---
layout: default
permalink: /scratch3/
published: true
---

<!DOCTYPE html>
<html>

<head>
  <title> Airlift - A JavaScript web application framework for Google
  App Engine </title>
  <style type="text/css">
    body {
      margin: 0px 0px 0px 0px;
      font-size: 14px;
      line-height: 20px;
      background: #EEEEEE;
      color: #000;
      <!--font-family: Helvetica Neue, Helvetica, Arial; -->
    }
    h2 {
      background-color: #E47E7E
    }
    h3 {
      color: #2A61D9;
    }
    a {
      color:black;
    }
    code {
      margin-left: 20px;
    }
    pre {
      font-size: 12px;
      padding: 2px 0 2px 15px;
      border-left: 5px solid #bbb;
      margin: 0px 0 30px;
      background-color: #DDDDDD;
    }
    div#sidebar {
      background: #DDDDDD;
      position: fixed;
      top: 100; left: 0; bottom: 0;
      width: 200px;
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      padding: 15px 0 30px 30px;
      border-right: 1px solid #bbb;
      box-shadow: 0 0 20px #ccc; -webkit-box-shadow: 0 0 20px #ccc; -moz-box-shadow: 0 0 20px #ccc;
    }
    div.container {
      width: 600px;
      margin: 40px 0 50px 260px;
      background-color: #EEEEEE;
    }
  </style>
</head>

<body>

<div class="api2">
  {% include menu.html %}
</div>  
  
  <div id="sidebar" class="interface">

    <p><a href="#Airlift">Airlift 2.0</a></p>
    <ul>
      <li><a href="https://github.com/Airlift-Framework/airlift-framework.github.com">Github Repository</a></li>
      <li><a href="https://github.com/Airlift-Framework/airlift-framework.github.com">Download PDF</a></li>
    </ul>

    <p><a href="#Introduction">Introduction</a></p>

    <p><a href="#Extensions">Extensions</a></p>
    <ul>
      <li><a href="#partial">partial</a></li>
      <li><a href="#equalsIgnoreCase">equalsIgnoreCase</a></li>
      <li><a href="#replaceAll">replaceAll</a></li>
    </ul>
    
    <p><a href="#Resource">Resource</a></p>
    <ul>
      <li><a href="#each">each</a></li>
      <li><a href="#map">map</a></li>
      <li><a href="#reduce">reduce</a></li>
      <li><a href="#sequence">sequence</a></li>
      <li><a href="#compose">compose</a></li>
      <li><a href="#watch">watch</a></li>
    </ul>

    <p><a href="#Collection">Collection</a></p>
    <ul>
      <li><a href="#every">every</a></li>
      <li><a href="#some">some</a></li>
      <li><a href="#forEach">forEach</a></li>
      <li><a href="#filter">filter</a></li>
      <li><a href="#map">map</a></li>
      <li><a href="#reduce">reduce</a></li>
      <li><a href="#split">split</a></li>
      <li><a href="#partition">partition</a></li>
    </ul>

    <p><a href="#Util">Util</a></p>
    <ul>
      <li><a href="#typeOf">typeOf</a></li>
      <li><a href="#isEmpty">isEmpty</a></li>
      <li><a href="#createClass">createClass</a></li>
      <li><a href="#isWhiteSpace">isWhiteSpace</a></li>
      <li><a href="#hasValue">hasValue</a></li>
      <li><a href="#multiTry">multiTry</a></li>
      <li><a href="#createDate">createDate</a></li>
      <li><a href="#createCalendar">createCalendar</a></li>
      <li><a href="#guid">guid</a></li>
      <li><a href="#trim">trim</a></li>
      <li><a href="#pring">println</a></li>
      <li><a href="#println">println</a></li>
      <li><a href="#value">value</a></li>
    </ul>

    <p><a href="#Incoming">Incoming</a></p>
    <ul>
      <li><a href="#createKey">createKey</a></li>
      <li><a href="#createEntity">createEntity</a></li>
      <li><a href="#bookkeeping">bookkeeping</a></li>
      <li><a href="#entify">entify</a></li>
      <li><a href="#encrypt">encrypt</a></li>
      <li><a href="#convert">convert</a></li>
      <li><a href="#validate">validate</a></li>
    </ul>

    <p><a href="#Outgoing">Outgoing</a></p>
    <ul>
      <li><a href="#deentify">deentify</a></li>
      <li><a href="#decrypt">decrypt</a></li>
    </ul>
      
    <p><a href="#Rest">Rest</a></p>
    <ul>
      <li><a href="#tbdRest">tbdRest</a></li>
    </ul>
    
    <p><a href="#Data Access">Data Access</a></p>
    <ul>
      <li><a href="#tbdDataAccess">tbdDataAccess</a></li>
    </ul>

  </div>

  <div id="content" class="container">
    <p id="introduction">
      <h1>Airlift</h1>
    </p>

    <p>
      Airlift is an open web framework for building restful web
      applications using functional JavaScript on Google App Engine.
    </p>

    <p>
      Add more to this paragraph weeeee. What does Airlift include?
      How can it be used? What makes it different from other
      frameworks? Filler filler filler filler filler blah blah blah
      blah blah i do like cheese filler filler filler filler filler
      filler blah blah blah blah blah blah blah blah blah blah blah.
    </p>

    <p>
      This project is <a href =
      "http://github.com/Airlift-Framework/airlift-framework.github.com">
      hosted on Github</a>.
    </p>
    <p>
    The PDF of this documentaiton can be downloaded <a href =
      "http://github.com/Airlift-Framework/airlift-framework.github.com">
      here</a>.
    </p>
    <br>

    <h2 id="Extensions">Extensions</h2>

    <p>
      JavaScript module extensions that support Airlift utility modules.
    </p>

    <p>
      Airlift is built on Rhino and App Engine. Rhino is a fantastic
      JavaScript interpreter library written for Java. App Engine is a
      fantastic platform as a service cloud environment that offers
      support for web applications programmed in Go, Python, and Java.
      <br><br>
      In order for Airlift to support server side JavaScript
      programming on App Engine we applied Rhino's capabilities to the
      App Engine environment. To accomplish this we extended some of
      Rhino's libraries, and we added additional functionality to
      JavaScript's standard objects.  The following outlines the
      adaptations and improvements we made.
    </p>
    <br>

    <p id="partial">
      <h3>Function.prototype.partial (Type arg1, Type arg2, ...,
      Type argN)</h3>
      <h4 dir="rtl">Return Type: Object</h4>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Returns a wrapper function that wraps the funciton refered to by
      'this'. The arguments passed into partial are stRetrieves a list
      of boundaries for all DOM elements matching the providedored to
      be applied when the wrapper function is invoked. When the wrapper
      function is invoked, its arguments are taked on to the stored
      arguments. If any of stored arguments are undefined, they will
      be filled in in the order of presentation of the wrapper
      function arguments.
<pre><code>
var f0 = function(a1, a2)
{
     return a1 + a2;
};
var f1 = f0.partial(undefined, &#39; Bediako&#39;);	
f1(&#39;Hello&#39;);
=> Hello Bediako
</code></pre>
    </p>
    <br>

    <p id="equalsIgnoreCase">
      <h3>String.prototype.equalsIgnoreCase (String|java.lang.String
      string)</h3>
      <font style="background-color:#EDD287">Added in 2.0</font>
      Case insensitive comparison of a JavaScript string1 to another
      JavaScript or Java string. Added as a convenience method,
      equalsIgnoreCase is merely a wrapper for
      java.lang.String.equalsIgnoreCase.
<pre><code>
var string1 = &#39;bediako&#39;;
var string2 = new Packages.java.lang.String(&quot;Bediako&quot;);
string1.equalsIgnoreCase(string2);
=> true
</code></pre>
    </p>
    <br>

    <p id="replaceAll">
      <h3>String.prototype.replaceAll (String|java.lang.String
      string1, String|java.lang.String string2)</h3>
      <font style="background-color:#F47A72">Added in 2.0</font>
      Replaces every occurrence of string1 in ‘this’ with
      string2. Added as a convenience method, replaceAll is merely a
      wrapper for java.lang.String.replaceAll.
<pre><code>
var string1 = &#39;banana&#39;;
string1.replaceAll(&quot;na&quot;, &#39;&#39;);
=> ba
</code></pre>
    </p>
    <br>

    <h2 id="Resource">Resource</h2>

    <p>
      The resource module contains functions that allow you to iterate
      over the attributes of your application's resources.
    </p>

    <p>
      Airlift is a very restful framework. Resources are the center of
      Airlift application development. When designing an application,
      developers are encouraged to create as many resources as they
      like. The resource.js module contains functions that allow
      developers to traverse the application resources’ attributes. In
      Airlift a resource is represented as a simple JavaScript object ({}).
      <br><br>
      Whenever a iterative function is executed in resource, the
      iterator function that you provide is executed within a context
      that governs the traversal of that resource. This context is set
      as the ‘this’ for the iterator function. It makes available
      following:
      <ul>
      <li>resourceName - the name of the resource being
          traversed.</li>
      </li>resourceMetadata - metadata describing the resource being
          traversed. It contains a list of attributes this resource
          holds.</li>
      <li>attributesMetadata - metadata describing each individual
          attribute this resource holds.</li>
      <li>foreignKeys - a list of names of all the foreign keys in
          this resource.</li>
      <li>attributes - a list of names of all the attributes in this
          resource.</li>
      <li>web - a web object that gives access to the web context. The
          web context contains information about the current request.</li>
      <li>report - a function used to report errors.</li>
      <li>allErrors - a function that returns all errors reported so
          far.</li>
      <li>getErrors - a function that returns all errors reported for
          a given attribute of this resource.</li>
      </ul>
      <br>
      All iterative functions in resource.js allow for the replacement
      of any of the attributes of the context object by optionally
      providing an object at invocation time.
    </p>
    <br>

    <p id="each">
      <h3>Each (resourceName, resource, iterator, [context])</h3>
      <font style="background-color:#BB95E9">Added in 2.0</font>
      Iterates over a resource, yielding each in turn to an iterator
      function. The iterator is bound to the context object, if one is
      passed, along with the attributes provided in the default
      context. Each invocation of iterator is called with four
      arguments: (value, attributeName, resource, metadata).
<pre><code>
var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var lightPerson = {};
var res = require(&#39;resource&#39;);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]};
      //optional - set to limit iteration
res.each(&#39;person&#39;, person, function(_value, _name, _resource, _metadata)
{
   lightPerson[_name] = _value;
} , context);

util.println(JSON.stringify(lightPerson));
=> {shortName: &#39;Kwame&#39;, age: 27 }
</code></pre>
    </p>
    <br>

    <p id="map">
      <h3>Map (resourceName, resource, iterator, [context])</h3>
      <font style="background-color:#BB95E9">Added in 2.0</font>
      Iterates over a resource, yielding each in turn to an iterator
      function. The iterator is bound to the context object, if one is
      passed, along with the attributes provided in the default
      context. Each invocation of iterator is called with four
      arguments: (value, attributeName, resource, metadata). The
      result of each iterator invocation is saved to a new resource
      object.
<pre><code>var person = {fullName: &#39;Kwame Mtume&#39;, shortName:
      &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]};
      //optional - set to limit iteration

var lightPerson = res.map(&#39;person&#39;, person, function(_value,
_name, _resource, _metadata)
{
   return _value;
} , context);

util.println(JSON.stringify(lightPerson));
=> {shortName: &#39;Kwame&#39;, age: 27 }
</code></pre>
    </p>
    <br>

    <p id="reduce">
      <h3>Reduce (base, resourceName, resource, iterator, [context])</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Iterates over a resource, yielding each in turn to an iterator
      function. The iterator is bound to the context object, if one is
      passed, along with the attributes provided in the default
      context. Each invocation of iterator is called with five
      arguments: (base, value, attributeName, resource, metadata). The
      result of each iterator invocation replaces the base
      value. Reduce returns the value of base at the end.
<pre><code>
var person = {fullName: &#39;Kwame Mtume&#39;, shortName:
      &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]};
      //optional - set to limit iteration
var base = &#39;&lt;ul&gt;&#39;;

var lightPerson = res.reduce(base, &#39;person&#39;, person,
function(_value, _name, _resource, _metadata)
{
   return &#39;&lt;li&gt;&#39; + _value + &#39;&lt;/li&gt;&#39;;
} , context);

lightPerson;
=> &lt;ul&gt;&lt;li&gt;Kwame&lt;/li&gt;&lt;li&gt;27&lt;/li&gt;
</code></pre>
    </p>
    <br>

    <p id="sequence">
      <h3>Sequence (function1, function2, ..., functionN)</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Returns a function that is the composition of the passed
      function arguments. The functions are executed in the order they
      are passed into sequence. Sequence’s returned function can be
      used in a iterative manner on a resource or executed as a
      standalone. Sequence returns the value of the last function’s
      execution.
<pre><code>
var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);

var checkStringType = function(_value, _name, _resource, _metadata) {
   if (&quot;java.lang.String&quot;.equals(_metadata.type) === false) throw &#39;error&#39;;
}

var checkAttributeHasValue = function(_value)
{
   if (util.hasValue(_value) === false) throw &#39;error&#39;;
}

var sequence = res.sequence(checkStringType, checkAttributeHasValue);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]};
//optional - set to limit iteration

var lightPerson = res.each(&#39;person&#39;, person, sequence, context);  //no errors
</code></pre>
    </p>
    <br>

    <p id="compose">
      <h3>Compose (function1, function2, ..., functionN)</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Returns a function that is the composition of the passed
      function arguments. The functions are executed in the order they
      are passed in to Compose. Compose’s returned function can be
      used in a iterative manner on a resource or executed as a
      standalone. On execution, the function returned by Compose
      passes its arguments to the first function executed. Each
      function after that will get the return value of the previous
      function as a replacement for the first argument of the original
      arguments. Compose returns the value of the last function’s
      execution.
<pre><code>
var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);

var returnOK = function(_value, _name, _resource, _metadata) {
   return &#39;OK&#39;;
}

var checkOK = function(_value)
{
   if (&quot;OK&quot;.equals(_value) === false) throw &#39;error&#39;;
}

var composition = res.compose(returnOK, checkOK);
var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration

var lightPerson = res.each(&#39;person&#39;, person, composition, context);  //no errors
</code></pre>
    </p>
    <br>

    <p id="watch">
      <h3>Watch ([name1, ..., name2]|[nameList], function)</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Returns a function that will only be executed once and only once
      when the all the attributes in the argument list of nameList are
      visited by the iterative function. If an attribute list is not
      passed as arguments or as an array, watch will execute once and
      only once all the attributes of the iterative context are
      visited.
<pre><code>
var person = {fullName: &#39;Kwame Mtume&#39;, shortName: &#39;Kwame&#39;, age: 27};
var res = require(&#39;resource&#39;);

var closeUlTag = function(_base, _value, _attributeName, _resource, _metadata) {
   return _base + &#39;&lt;/ul&gt;&#39;;
}

var liTag = function(_base, _value, _attributeName, _resource, _metadata)
{
   return _base + &#39;&lt;li&gt;&#39; + _value + &#39;&lt;/li&gt;&#39;;
}

var context = {attributes: [&#39;shortName&#39;, &#39;age&#39;]}; //optional - set to limit iteration
var watch1 = res.watch(closeUlTag); //watch1 will execute once and only once ... 
var composition = res.compose(liTag, watch1);

var lightPerson = res.reduce(&#39;&lt;ul&gt;&#39;, &#39;person&#39;,
person, composition, context);
     //.. when &#39;shortName&#39; and &#39;age&#39; are visited at least once.

lightPerson;
=> &lt;ul&gt;&lt;li&gt;Kwame&lt;/li&gt;&lt;li&gt;27&lt;/li&gt;&lt;/ul&gt;
</code></pre>
    </p>
    <br>

    <h2 id="Collection">Collection</h2>

    <p>
      The Collection module contains functions that can be used to
      traverse and process JavaScript arrays and Java collections in
      the same manner.
    </p>

    <p>
      The Collection module contains handy functions developers can
      use to traverse a JavaScript array, or a Java ArrayList or Java
      Set in a similar manner.
    </p>
    <br>

    <p id="every">
      <h3>Every (collection, iterator, [context])</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Returns true if all of the values in the list pass the iterator
      truth test. For JavaScript arrays, this function delegates to
      the native every function.
<pre><code>
var util = require(&#39;airlift/util&#39;);
var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;],
      c = require(&#39;collection&#39;);
var success = c.every(users, function(_item, _index, _collection) { return true; });
success;
=> true
</code></pre>
    </p>
    <br>

    <p id="some">
      <h3>Some (collection, iterator, [context]) &#8230;</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      <font style="background-color:#7EA0F5">alias Any</font>
      Returns true if any of the values in the collection pass the
      iterator’s truth test. Short-circuits and stops traversing the
      list if a true element is found. If collection is a JavaScript
      array this function delegates to the native method some.
<pre><code>
var util = require(&#39;airlift/util&#39;);
var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;],
      c = require(&#39;collection&#39;);
var r = c.some(users, function(_item, _index, _collection) { return
      (_index === 2); });
r;
=> true
</code></pre>
    </p>
    <br>

    <p id="forEach">
      <h3>ForEach (collection, iterator, [context]) &#8230;</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      <font style="background-color:#7EA0F5">alias Each</font>
      Iterates over a collection of elements, yielding each in turn to
      an iterator function. The iterator is bound to the context
      object, if one is passed. Each invocation of iterator is called
      with three arguments: (item, index, collection). For JavaScript
      arrays this function delegates to the native forEach function.
<pre><code>
var util = require(&#39;airlift/util&#39;), count = 0;
var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;],
      c = require(&#39;collection&#39;);
c.forEach(users, function(_item, _index, _collection) { count++; });
count;
=> 3
</code></pre>
    </p>
    <br>

    <p id="filter">
      <h3>Filter (collection, iterator, [context])</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Looks through each value in the list, returning a collection of
      all the values that pass a truth test (iterator). For JavaScript
      arrays this function delegates to the native filter method.
<pre><code>
var util = require(&#39;airlift/util&#39;);
var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;],
      c = require(&#39;collection&#39;);
var r = c.filter(users, function(_item, _index, _collection) { return (_index === 0); });
util.json(r);
=> [&quot;Bediako&quot;]
</code></pre>
    </p>
    <br>

    <p id="map">
      <h3>Map (collection, iterator, [context])</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Produces a new collection of values by mapping each value in the
      collection through a transformation function (iterator). For
      JavaScript arrays, the native map method is used.
<pre><code>
var util = require(&#39;airlift/util&#39;);
var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
var r = c.map(users, function(_item, _index, _collection) { return &#39;Hello &#39; + _item; });
util.json(r);
=> [&quot;Hello Bediako&quot;, &quot;Hello Dave&quot;, &quot;Hello Loki&quot;]</code></pre>
    </p>
    <br>

    <p id="reduce">
      <h3>Reduce (collection, iterator, memo, [context])</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Reduce boils down a collection of values into a single
      value. Memo is the initial state of the reduction, and each
      successive step of it should be returned by iterator. The
      iterator is passed four arguments: the memo, then the value and
      the index of the iteration, and finally a reference to the
      entire list. Reduce defers to the native implementation for
      JavaScript arrays.
<pre><code>
var util = require(&#39;airlift/util&#39;);
var users = [&#39;Bediako&#39;, &#39;Dave&#39;, &#39;Loki&#39;], c = require(&#39;collection&#39;);
var r = c.reduce(users, function(_memo, _item, _index, _collection) {
      return _memo + _item.length; }, 0);
r;
=> 15
</code></pre>
    </p>
    <br>

    <p id="split">
      <h3>Split (collection, iterator, [context])</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Returns two collections. The first collection contains the items
      for which <em>function returned true, the second collection
      contains the items for which the function returned false.</em>
<pre><code>
var util = require(&#39;airlift/util&#39;);
var users = [&quot;Bediako&quot;, &quot;Dave&quot;, &quot;Loki&quot;], c = require(&#39;collection&#39;);
var r = c.split(users, function(_item, _index, _collection) { return _item.length &gt; 4; });
util.json(r);
=> {success: [&quot;Bediako&quot;], fail: [&quot;Dave&quot;, &quot;Loki&quot;] }
</code></pre>
    </p>
    <br>

    <p id="partition">
      <h3>Partition (collection, attributeName)</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Returns a value list (java.util.List or Javascript array) and a
      map (java.util.Map or Javascript object). The value list
      contains, in the order they were discovered, the values that
      each item in the collection had on its property identified by
      attributeName. The map&#8217;s keys are the values found in the
      value list. Each key points to the list of items that had that
      value on its property identified by attributeName.
<pre><code>
var util = require(&#39;airlift/util&#39;);
var users = \[{name: &quot;Bediako&quot;}, {name: &quot;Dave&quot;},
      {name: &quot;Loki&quot;}, {name: &quot;Bediako&quot;}\];
var r = require(&#39;collection&#39;).partition(users, &#39;name&#39;);
util.println(util.json(r));
=> //{keys: \[&quot;Bediako&quot;, &quot;Dave&quot;,
      &quot;Loki&quot;\], partition: {&quot;Bediako&quot; : \[{name:
      &quot;Bediako&quot;}, {name: &quot;Bediako&quot;}\],
      &quot;Dave&quot;: \[{name: &quot;Dave&quot;}\],
      &quot;Loki&quot;: \[{name: Loki}\]}}
</code></pre>
    </p>
    <br>


</body>

</html>
<!--
    <h2 id="cat">Category</h2>

    <p>
      Subheader
    </p>

    <p>
      Category description
      <br><br>
      2nd paragraph
    </p>
    <br>

    <p id="id">
      <h3>methodSig</h3>
      <font style="background-color:#95DF9F">Added in 2.0</font>
      Description
<pre>
code
=> result
</pre>
    </p>
    <br>

-->
